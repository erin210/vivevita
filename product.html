<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="x-ua-compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>商品總覽 | Anthogenol®月光寶盒</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T2LGN669');</script>
    <!-- End Google Tag Manager -->
    <!-- SEO -->
    <meta name="author" content="VIVEVITA">
    <meta name="copyright" content="VIVEVITA">
    <meta name="description" content="Anthogenol®月光寶盒">
    <meta name="keyword" content="Anthogenol®月光寶盒">
    <meta property="og:title" content="Anthogenol®月光寶盒">
    <meta property="og:url" content="http://www.example.com/">
    <meta property="og:image" content="http://example.com/image.jpg">
    <meta property="og:description" content="Anthogenol®月光寶盒">
    <!--標籤上的 icon-->
    <link rel="icon" href="favicon.png">
    <link rel="icon" href="favicon.ico?v=1.1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png" sizes="180x180">
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
    <!-- css -->
    <link rel="stylesheet" href="css/menu.css">
    <link rel='stylesheet' href="css/left-menu.css">
    <link rel="stylesheet" type="text/css" href="css/preset.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-grid.css">
    <link rel="stylesheet" type="text/css" href="css/all.css">
    <!-- 動畫 -->
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <!-- 輪播 -->
    <link rel='stylesheet' href="css/swiper.min.css">
</head>

<body>
    <header class="header-area wow fadeInDown"></header>
    <main>
        <!-- BANNER-->
        <article class="page-banner wow fadeInDown" data-wow-offset="1" data-wow-duration="0.7s" data-wow-delay="0.7s">
            <section class="container">
                <div class="p-title">
                    <h1 class="h1_text"></h1>
                    <p class="wow fadeInDown" data-wow-duration="0.7s" data-wow-delay="1.2s">
                        精選各國高品質、國際認證、安全的保健營養品，<br>
                        替消費者做到嚴格把關，守護您與家人的健康
                    </p>
                </div>
            </section>
        </article>

        <!-- 產品列表 -->
        <article class="top-alla wow fadeIn" data-wow-duration="1s" data-wow-delay="1.5s">
            <section>
                <div class="container">
                    <div class="row center-menu mt-2">
                        <div class="col-lg-2 vertical-nav" id="menuToggle" role="navigation">
                            <div class="left-menu">分類</div>
                            <input type="checkbox"/>
                            <span class="menu-span"></span>
                            <span class="menu-span"></span>
                            <span class="menu-span"></span>
                            <!-- 當頁需加 class="nav__list-li" -->
                            <!-- 分類li-->
                            <ul id="menu" class="nav__list wow fadeInUp">
                                <li rel="tab_all" class="tabMenu"><a href="">所有商品</a></li>
                            </ul>
                        </div>
                        <div class="mt-4 mt-lg-0 tab_product_all col-lg-10 wow fadeInUp" data-wow-duration="1s" data-wow-delay="1.5s" id="TAB_PROCUCT_CON">
                            <div id="tab_all" class="tab_products">
                                <div class="row"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </article>
    </main>

    <!--goTOP-->
    <a href="#0" class="go-top" style="display: none;">
        <img src="img/top.svg" alt=""><span>TOP</span>
    </a>

    <footer class="footer wow fadeInUp" data-wow-duration="1s"></footer>

    <script src='js/jquery-3.4.1.min.js'></script>
    <script src="js/all.js"></script>
    <script src="js/wow.min.js"></script>

    <script>
        $(document).ready(function () {
            $("header").load("./component/header_con.html", function(headerData) {
                $("header").html(headerData);
                var script = document.createElement("script");
                script.src = "js/menu.js";
                document.head.appendChild(script);
            });
            
            new WOW().init();
        });

        //打字動畫
        const dom = $('.h1_text');
        const data = 'PRODUCT'.split('');

        let index = 0;
        function writing(index) {
            if (index < data.length) {
                dom.html(dom.html() + data[index]);
                setTimeout(() => writing(++index), 100);
            }
        }
        setTimeout(() => writing(index), 800);

        //JSON
        $.getJSON("product.json", function (json) {
            var ALLCategories = json.Categories;

            ALLCategories.forEach((category, index) => {
                var TAB_LIST = '<li rel="tab' + (index + 1) + '" class="tabMenu" data-menu="'+ category.Categories_Name + '"><a href="">' + category.Categories_Name + '</a></li>';

                var PRODUCT_CON = `<div id="tab` + (index + 1) + `" class="tab_products"><div class="row"></div></div>`;

                $('#menu').append(TAB_LIST);
                $('#TAB_PROCUCT_CON').append(PRODUCT_CON);
                var PRODUCT_LIST_ALL = '';

                //分類側選單
                category.product_List.forEach((item, i) => {
                    var PRODUCT_LIST = `<div class="product_card col-lg-4 col-sm-6 col-12">
                            <!-- 分類 -->
                            <div class="product_card_cat">`+ category.Categories_Name + `</div>
                            <a href="product_detail.html?id=`+item.Product_ID+`&category=`+category.Categories_ID+`">
                                <div class="product_card_pic">
                                    <img src="`+ item.Product_Main_Img + `" alt="">
                                </div>
                                <!-- 名稱 -->
                                <div class="product_card_text">
                                    <h4>`+ item.Product_Brand + `</h4>
                                    <p>`+ item.Product_Name + `</p>
                                </div>
                            </a>
                        </div>`;
                    PRODUCT_LIST_ALL += PRODUCT_LIST;
                });
                
                $('#tab' + (index + 1) + ' .row').append(PRODUCT_LIST_ALL);
                
                //印出所有商品
                $('#tab_all .row').append(PRODUCT_LIST_ALL);
            });

            $('.tabMenu').on('click', function(){
                    const MenuName=$(this).find('a').text();
                    if(MenuName=="所有商品"){
                        $('title').html('商品總覽 | Anthogenol®月光寶盒');
                    }else{
                        $('title').html(MenuName+' | Anthogenol®月光寶盒');
                    }
                });

            //切換分類
            $("ul.nav__list li:first").addClass("nav__list-li");
            $(".tab_products").hide();
            $(".tab_products:first").show();

            $("ul.nav__list li a").on("click", function (event) {
                event.preventDefault();
            });

            $("ul.nav__list li").on("click", function () {
                $(".tab_products").hide();

                var activeTab = $(this).attr("rel");
                $("#" + activeTab).fadeIn();
                $("ul.nav__list li").removeClass("nav__list-li");
                $(this).addClass("nav__list-li");
            });
        });
        
        $("footer").load("./component/footer_con.html");
    </script>
</body>
</html>